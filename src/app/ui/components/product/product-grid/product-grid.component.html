<div class="product-grid-container">
  <!-- Updated title area with View All link -->
  <h2 *ngIf="title">
    {{ title }}
    <a *ngIf="showViewAllLink" [routerLink]="[viewAllRoute]" [queryParams]="viewAllParams" class="view-all-link">
      View All
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14"></path>
        <path d="M12 5l7 7-7 7"></path>
      </svg>
    </a>
  </h2>
  
  <div class="container">
    <button class="scroll-btn left" (click)="scrollLeft()" *ngIf="showNavigationButtons">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
           stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>
    
    <!-- Loading Container -->
    <div *ngIf="loading" class="loading-container">
      <app-spinner [spinnerType]="'s2'" [showOverlay]="false"></app-spinner>
      <div class="loading-progress">
        <div class="progress-bar" [style.width.%]="loadingProgress"></div>
      </div>
      <div class="loading-text">{{loadingText || 'Loading products...'}}</div>
    </div>
    
    <div class="product-grid">
      <div class="product-list" #productGrid [class.invisible]="loading">
        <app-product-card
          *ngFor="let product of products"
          [product]="product"
          [gridView]="true"
          class="grid-item">
        </app-product-card>
      </div>
    </div>
    
    <button class="scroll-btn right" (click)="scrollRight()" *ngIf="showNavigationButtons">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" 
           stroke="currentColor" stroke-width="2" stroke-linecap="round" 
           stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>
  </div>
</div>